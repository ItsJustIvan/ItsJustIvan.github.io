---
import BaseLayout from "../layouts/BaseLayout.astro";
import HorizontalCard from "../components/HorizontalCard.astro";
import Hero from "../components/Hero.astro";
import FeaturedProjects from "../components/FeaturedProjects.astro";
import ServicesPreview from "../components/ServicesPreview.astro";
import MiniAbout from "../components/MiniAbout.astro";
import ContactCTA from "../components/ContactCTA.astro";
import ContactForm from "../components/ContactForm.astro";
import ContactModalWrapper from '../components/HeadlessModal.jsx'; // Import the React component



import { getCollection } from "astro:content";
import createSlug from "../lib/createSlug"

const posts = (await getCollection("blog")).sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());

const last_posts = posts.slice(0, 3);
---

<BaseLayout sideBarActiveItemID="home">
  <Hero />
  <FeaturedProjects />
  <ServicesPreview />
  <MiniAbout />
  <ContactCTA />
  <ContactModalWrapper client:load>
      <ContactForm />
  </ContactModalWrapper>
</BaseLayout>
