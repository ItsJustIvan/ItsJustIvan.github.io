---
// ExperienceCard.astro
const { title, company, summary, dates, details = [], tags = [] } = Astro.props;
---

<article class="border rounded-xl p-4 shadow hover:shadow-lg transition-all bg-base-100">
  <label class="block cursor-pointer">
    <input type="checkbox" class="peer hidden" />

    <header class="flex justify-between items-start">
      <div>
        <h3 class="text-lg font-semibold">{title} <span class="text-base-content/60">@ {company}</span></h3>
        <p class="text-sm text-base-content/60">{dates}</p>
        <p class="text-base-content mt-2">{summary}</p>
      </div>
      <div class="text-primary text-xl peer-checked:rotate-180 transition-transform">+</div>
    </header>

    <div class="mt-4 space-y-2 max-h-0 overflow-hidden transition-all peer-checked:max-h-[999px]">
      <ul class="list-disc list-inside text-sm space-y-1">
        {details.map(item => <li>{item}</li>)}
      </ul>
      {tags.length > 0 && (
        <div class="mt-3 flex flex-wrap gap-2">
          {tags.map(tag => (
            <a href={`/tags/${tag}`} class="badge badge-outline text-sm hover:bg-base-200 transition">{tag}</a>
          ))}
        </div>
      )}
    </div>
  </label>
</article>